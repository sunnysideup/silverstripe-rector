<?php

declare(strict_types=1);

namespace Netwerkstatt\SilverstripeRector\Traits;

use LogicException;

trait MethodChangeHelper
{
    public static function get_list_cleaned()
    {
        if (! defined(static::class . '::LIST')) {
            throw new LogicException(static::class . ' must define const LIST');
        }

        /** @var array $list */
        $list = constant(static::class . '::LIST');
        foreach ($list as $key => $values) {
            $list[$key]['c'] = self::SHORT_TO_LONG_CLASS_NAME[$values['c']] ?? $values['c'];
            $list[$key]['u'] = self::METHODS_AND_UNIQUENESS[$values['m']] ?? false;
        }
        return $list;
    }

    public static function get_list_of_classes(): array
    {
        return self::get_list_of_unique_values('c');
    }

    /**
     * provides a list like this
     * ```php
     *    'MethodOne' => true,
     *    'MethodTwo' => false,
     * ```
     * Where true means unique and false means not unique
     */
    public static function get_list_of_methods(): array
    {
        $list = self::get_list_of_unique_values('m');
        foreach ($list as $key => $values) {
            $list[$key] = self::METHODS_AND_UNIQUENESS[$values['m']] ?? false;
        }
        return $list;
    }

    public static function get_list_of_unique_values(string $fieldName): array
    {
        $ref = new \ReflectionClass(static::class);

        $out = [];

        /** @var \ReflectionClassConstant $constant */
        foreach ($ref->getReflectionConstants() as $constant) {
            $value = $constant->getValue();

            if (!is_array($value)) {
                continue;
            }

            foreach ($value as $row) {
                if (!is_array($row) || !array_key_exists($fieldName, $row)) {
                    continue;
                }

                $out[$row[$fieldName]] = $row[$fieldName];
            }
        }
        asort($out);

        return $out;
    }

    private const SHORT_TO_LONG_CLASS_NAME = [
        'AdminErrorExtension' => 'SilverStripe\\Admin\\AdminErrorExtension',
        'AdminRootController' => 'SilverStripe\\Admin\\AdminRootController',
        'AdvancedWorkflowExtension' => 'Symbiote\\AdvancedWorkflow\\Extensions\\AdvancedWorkflowExtension',
        'AssetAdmin' => 'SilverStripe\\AssetAdmin\\Controller\\AssetAdmin',
        'AssetAdminFile' => 'SilverStripe\\AssetAdmin\\Controller\\AssetAdminFile',
        'AssetFormFactory' => 'SilverStripe\\AssetAdmin\\Controller\\AssetFormFactory',
        'Authenticator' => 'SilverStripe\\Security\\Authenticator',
        'BaseElement' => 'DNADesign\\Elemental\\Models\\BaseElement',
        'BaseElementSubsites' => 'DNADesign\\ElementalSubsites\\Extensions\\BaseElementSubsites',
        'BasicAuth' => 'SilverStripe\\Security\\BasicAuth',
        'BlogObject' => 'SilverStripe\\Blog\\Model\\BlogObject',
        'BlogPost' => 'SilverStripe\\Blog\\Model\\BlogPost',
        'BlogPostFilter' => 'SilverStripe\\Blog\\Model\\BlogPostFilter',
        'BuildTask' => 'SilverStripe\\Dev\\BuildTask',
        'CMSMain' => 'SilverStripe\\CMS\\Controllers\\CMSMain',
        'CMSPageAddControllerExtension' => 'SilverStripe\\CMS\\Controllers\\CMSPageAddControllerExtension',
        'CMSPageEditController' => 'SilverStripe\\CMS\\Controllers\\CMSPageEditController',
        'CMSEditLinkExtension' => 'SilverStripe\\Admin\\CMSEditLinkExtension',
        'CMSSiteTreeFilter' => 'SilverStripe\\CMS\\Controllers\\CMSSiteTreeFilter',
        'CMSSiteTreeFilter_ChangedPages' => 'SilverStripe\\CMS\\Controllers\\CMSSiteTreeFilter_ChangedPages',
        'CMSSiteTreeFilter_DeletedPages' => 'SilverStripe\\CMS\\Controllers\\CMSSiteTreeFilter_DeletedPages',
        'CMSSiteTreeFilter_PublishedPages' => 'SilverStripe\\CMS\\Controllers\\CMSSiteTreeFilter_PublishedPages',
        'CMSSiteTreeFilter_Search' => 'SilverStripe\\CMS\\Controllers\\CMSSiteTreeFilter_Search',
        'CMSSiteTreeFilter_StatusDeletedPages' => 'SilverStripe\\CMS\\Controllers\\CMSSiteTreeFilter_StatusDeletedPages',
        'CMSSiteTreeFilter_StatusDraftPages' => 'SilverStripe\\CMS\\Controllers\\CMSSiteTreeFilter_StatusDraftPages',
        'CMSSiteTreeFilter_StatusRemovedFromDraftPages' => 'SilverStripe\\CMS\\Controllers\\CMSSiteTreeFilter_StatusRemovedFromDraftPages',
        'CMSPreviewable' => 'SilverStripe\\ORM\\CMSPreviewable',
        'CanViewPermission' => 'SilverStripe\\GraphQL\\Schema\\DataObject\\Plugin\\CanViewPermission',
        'CanonicalURLMiddleware' => 'SilverStripe\\Control\\Middleware\\CanonicalURLMiddleware',
        'ChangePasswordHandler' => 'SilverStripe\\Security\\MemberAuthenticator\\ChangePasswordHandler',
        'ClassManifest' => 'SilverStripe\\Core\\Manifest\\ClassManifest',
        'ClassManifestErrorHandler' => 'SilverStripe\\Core\\Manifest\\ClassManifestErrorHandler',
        'ClientConfigProvider' => 'SilverStripe\\Admin\\ClientConfigProvider',
        'ConfirmedPasswordField' => 'SilverStripe\\Forms\\ConfirmedPasswordField',
        'ContentController' => 'SilverStripe\\CMS\\Controllers\\ContentController',
        'Controller' => 'SilverStripe\\Control\\Controller',
        'Convert' => 'SilverStripe\\Core\\Convert',
        'CopyMethod' => 'SilverStripe\\VendorPlugin\\Methods\\CopyMethod',
        'CoreConfigFactory' => 'SilverStripe\\Core\\Config\\CoreConfigFactory',
        'Cookie' => 'SilverStripe\\Control\\Cookie',
        'CookieAuthenticationHandler' => 'SilverStripe\\Security\\MemberAuthenticator\\CookieAuthenticationHandler',
        'CookieJar' => 'SilverStripe\\Control\\CookieJar',
        'Cookie_Backend' => 'SilverStripe\\Control\\Cookie_Backend',
        'CredentialRepositoryProviderTrait' => 'SilverStripe\\Security\\CredentialRepositoryProviderTrait',
        'DataList' => 'SilverStripe\\ORM\\DataList',
        'DataObject' => 'SilverStripe\\ORM\\DataObject',
        'DataObjectInterface' => 'SilverStripe\\ORM\\DataObjectInterface',
        'DataObjectVersionFormFactory' => 'SilverStripe\\VersionedAdmin\\Forms\\DataObjectVersionFormFactory',
        'DataQuery' => 'SilverStripe\\ORM\\DataQuery',
        'DateField' => 'SilverStripe\\Forms\\DateField',
        'DatetimeField' => 'SilverStripe\\Forms\\DatetimeField',
        'DB' => 'SilverStripe\\ORM\\DB',
        'DBBoolean' => 'SilverStripe\\ORM\\FieldType\\DBBoolean',
        'DBClassNameTrait' => 'SilverStripe\\ORM\\FieldType\\DBClassNameTrait',
        'DBComposite' => 'SilverStripe\\ORM\\FieldType\\DBComposite',
        'DBCurrency' => 'SilverStripe\\ORM\\FieldType\\DBCurrency',
        'DBDate' => 'SilverStripe\\ORM\\FieldType\\DBDate',
        'DBDatetime' => 'SilverStripe\\ORM\\FieldType\\DBDatetime',
        'DBDecimal' => 'SilverStripe\\ORM\\FieldType\\DBDecimal',
        'DBEnum' => 'SilverStripe\\ORM\\FieldType\\DBEnum',
        'DBField' => 'SilverStripe\\ORM\\FieldType\\DBField',
        'DBFile' => 'SilverStripe\\Assets\\Storage\\DBFile',
        'DBFloat' => 'SilverStripe\\ORM\\FieldType\\DBFloat',
        'DBHTMLText' => 'SilverStripe\\ORM\\FieldType\\DBHTMLText',
        'DBHTMLVarchar' => 'SilverStripe\\ORM\\FieldType\\DBHTMLVarchar',
        'DBInt' => 'SilverStripe\\ORM\\FieldType\\DBInt',
        'DBLocale' => 'SilverStripe\\ORM\\FieldType\\DBLocale',
        'DBMoney' => 'SilverStripe\\ORM\\FieldType\\DBMoney',
        'DBPolymorphicForeignKey' => 'SilverStripe\\ORM\\FieldType\\DBPolymorphicForeignKey',
        'DBPrimaryKey' => 'SilverStripe\\ORM\\FieldType\\DBPrimaryKey',
        'DBString' => 'SilverStripe\\ORM\\FieldType\\DBString',
        'DBText' => 'SilverStripe\\ORM\\FieldType\\DBText',
        'DBTime' => 'SilverStripe\\ORM\\FieldType\\DBTime',
        'DBVarchar' => 'SilverStripe\\ORM\\FieldType\\DBVarchar',
        'Debug' => 'SilverStripe\\Dev\\Debug',
        'DefaultCacheFactory' => 'SilverStripe\\Core\\Cache\\DefaultCacheFactory',
        'DefaultPermissionChecker' => 'SilverStripe\\Security\\DefaultPermissionChecker',
        'Deprecation' => 'SilverStripe\\Dev\\Deprecation',
        'DevelopmentAdmin' => 'SilverStripe\\Dev\\DevelopmentAdmin',
        'Director' => 'SilverStripe\\Control\\Director',
        'EagerLoadedList' => 'SilverStripe\\ORM\\EagerLoadedList',
        'EditableFileField' => 'SilverStripe\\UserForms\\Model\\EditableFormField\\EditableFileField',
        'EditableFormField' => 'SilverStripe\\UserForms\\Model\\EditableFormField',
        'EditFormFactory' => 'SilverStripe\\Admin\\Forms\\EditFormFactory',
        'ElementalArea' => 'DNADesign\\Elemental\\Models\\ElementalArea',
        'ElementalAreaController' => 'DNADesign\\Elemental\\Controllers\\ElementalAreaController',
        'ElementalAreaUsedOnTableExtension' => 'DNADesign\\Elemental\\Extensions\\ElementalAreaUsedOnTableExtension',
        'ElementalPageExtension' => 'DNADesign\\Elemental\\Extensions\\ElementalPageExtension',
        'ElementController' => 'DNADesign\\Elemental\\Controllers\\ElementController',
        'Email' => 'SilverStripe\\Control\\Email\\Email',
        'EnablerExtension' => 'SilverStripe\\LoginForms\\EnablerExtension',
        'ErrorPageControllerExtension' => 'SilverStripe\\ErrorPage\\ErrorPageControllerExtension',
        'ErrorPageFileExtension' => 'SilverStripe\\ErrorPage\\ErrorPageFileExtension',
        'ErrorPageSubsite' => 'SilverStripe\\Subsites\\Extensions\\ErrorPageSubsite',
        'Factory' => 'SilverStripe\\Core\\Injector\\Factory',
        'FieldFilterInterface' => 'SilverStripe\\Forms\\FieldFilterInterface',
        'FieldList' => 'SilverStripe\\Forms\\FieldList',
        'File' => 'SilverStripe\\Assets\\File',
        'FileLinkTracking' => 'SilverStripe\\CMS\\Model\\FileLinkTracking',
        'FileSearchFormFactory' => 'SilverStripe\\AssetAdmin\\Forms\\FileSearchFormFactory',
        'FileSubsites' => 'SilverStripe\\Subsites\\Extensions\\FileSubsites',
        'Filesystem' => 'SilverStripe\\Assets\\Filesystem',
        'FirstResult' => 'SilverStripe\\GraphQL\\Schema\\DataObject\\Plugin\\FirstResult',
        'FluentChangesExtension' => 'TractorCow\\Fluent\\Extension\\FluentChangesExtension',
        'FluentDirectorExtension' => 'TractorCow\\Fluent\\Extension\\FluentDirectorExtension',
        'FluentExtension' => 'TractorCow\\Fluent\\Extension\\FluentExtension',
        'FluentFilteredExtension' => 'TractorCow\\Fluent\\Extension\\FluentFilteredExtension',
        'FluentGridFieldExtension' => 'TractorCow\\Fluent\\Extension\\FluentGridFieldExtension',
        'FluentIsolatedExtension' => 'TractorCow\\Fluent\\Extension\\FluentIsolatedExtension',
        'FluentLeftAndMainExtension' => 'TractorCow\\Fluent\\Extension\\FluentLeftAndMainExtension',
        'FluentLinkExtension' => 'TractorCow\\Fluent\\Extension\\FluentLinkExtension',
        'FluentMemberExtension' => 'TractorCow\\Fluent\\Extension\\FluentMemberExtension',
        'FluentObjectTrait' => 'TractorCow\\Fluent\\Model\\FluentObjectTrait',
        'FluentReadVersionsExtension' => 'TractorCow\\Fluent\\Extension\\FluentReadVersionsExtension',
        'FluentSiteTreeExtension' => 'TractorCow\\Fluent\\Extension\\FluentSiteTreeExtension',
        'FluentVersionedExtension' => 'TractorCow\\Fluent\\Extension\\FluentVersionedExtension',
        'FlushInvalidatedResource' => 'SilverStripe\\i18n\\Messages\\Symfony\\FlushInvalidatedResource',
        'Folder' => 'SilverStripe\\Assets\\Folder',
        'FolderFormFactoryExtension' => 'SilverStripe\\AssetAdmin\\Extensions\\FolderFormFactoryExtension',
        'Form' => 'SilverStripe\\Forms\\Form',
        'FormFactory' => 'SilverStripe\\Forms\\FormFactory',
        'FormField' => 'SilverStripe\\Forms\\FormField',
        'FormRequestHandler' => 'SilverStripe\\Forms\\FormRequestHandler',
        'FormSchema' => 'SilverStripe\\Forms\\Schema\\FormSchema',
        'GridFieldAddNewMultiClassHandlerExtension' => 'SilverStripe\\VersionedAdmin\\Extensions\\GridFieldAddNewMultiClassHandlerExtension',
        'GridFieldDataColumns' => 'SilverStripe\\Forms\\GridField\\GridFieldDataColumns',
        'GridFieldDetailForm' => 'SilverStripe\\Forms\\GridField\\GridFieldDetailForm',
        'GridFieldDetailFormItemRequestExtension' => 'SilverStripe\\VersionedAdmin\\Extensions\\GridFieldDetailFormItemRequestExtension',
        'GridFieldDetailFormPreviewExtension' => 'SilverStripe\\Admin\\Extensions\\GridFieldDetailFormPreviewExtension',
        'GridFieldFilterHeader' => 'SilverStripe\\Forms\\GridField\\GridFieldFilterHeader',
        'GridFieldNestedForm' => 'SilverStripe\\Forms\\GridField\\GridFieldNestedForm',
        'GridFieldPaginator' => 'SilverStripe\\Forms\\GridField\\GridFieldPaginator',
        'GridFieldPrintButtonExtension' => 'SilverStripe\\Admin\\Extensions\\GridFieldPrintButtonExtension',
        'GridFieldSiteTreeAddNewButton' => 'SilverStripe\\CMS\\Controllers\\GridFieldSiteTreeAddNewButton',
        'GridFieldSortableHeader' => 'SilverStripe\\Forms\\GridField\\GridFieldSortableHeader',
        'Group' => 'SilverStripe\\Security\\Group',
        'GroupSubsites' => 'SilverStripe\\Subsites\\Extensions\\GroupSubsites',
        'Hierarchy' => 'SilverStripe\\ORM\\Hierarchy\\Hierarchy',
        'HistoryViewerController' => 'SilverStripe\\VersionedAdmin\\Controllers\\HistoryViewerController',
        'HintsCacheKeyExtension' => 'SilverStripe\\Admin\\Extensions\\HintsCacheKeyExtension',
        'HTMLEditorConfig' => 'SilverStripe\\Forms\\HTMLEditor\\HTMLEditorConfig',
        'HTMLEditorSanitiser' => 'SilverStripe\\Forms\\HTMLEditor\\HTMLEditorSanitiser',
        'HTMLReadonlyField' => 'SilverStripe\\Forms\\HTMLReadonlyField',
        'HTMLValue' => 'SilverStripe\\View\\Parsers\\HTMLValue',
        'HTTP' => 'SilverStripe\\Control\\HTTP',
        'IdentityStore' => 'SilverStripe\\Security\\IdentityStore',
        'Image_Backend' => 'SilverStripe\\Assets\\Image_Backend',
        'ImageShortcodeProvider' => 'SilverStripe\\Assets\\Shortcodes\\ImageShortcodeProvider',
        'InheritedPermissionFlusher' => 'SilverStripe\\Security\\InheritedPermissionFlusher',
        'InheritedPermissions' => 'SilverStripe\\Security\\InheritedPermissions',
        'InterventionBackend' => 'SilverStripe\\Assets\\InterventionBackend',
        'i18nTextCollector' => 'SilverStripe\\i18n\\TextCollection\\i18nTextCollector',
        'i18nTextCollectorTask' => 'SilverStripe\\i18n\\TextCollection\\i18nTextCollectorTask',
        'LeftAndMain' => 'SilverStripe\\Admin\\LeftAndMain',
        'LeftAndMainBatchActionsExtension' => 'SilverStripe\\CMS\\Controllers\\LeftAndMainBatchActionsExtension',
        'LeftAndMainSubsites' => 'SilverStripe\\Subsites\\Extensions\\LeftAndMainSubsites',
        'Link' => 'SilverStripe\\LinkField\\Models\\Link',
        'LocalDateTime' => 'SilverStripe\\ORM\\FieldType\\LocalDateTime',
        'LocalFilesystemAdapter' => 'SilverStripe\\Assets\\Flysystem\\LocalFilesystemAdapter',
        'LoginHandler' => 'SilverStripe\\Security\\MemberAuthenticator\\LoginHandler',
        'Member' => 'SilverStripe\\Security\\Member',
        'MemberAuthenticator' => 'SilverStripe\\Security\\MemberAuthenticator\\MemberAuthenticator',
        'MemberExtension' => 'SilverStripe\\MFA\\Extension\\MemberExtension',
        'MemcachedCacheFactory' => 'SilverStripe\\Core\\Cache\\MemcachedCacheFactory',
        'MFAResetExtension' => 'SilverStripe\\MFA\\Extension\\MFAResetExtension',
        'MigrationTask' => 'SilverStripe\\Dev\\MigrationTask',
        'MigrationTaskTrait' => 'SilverStripe\\LinkField\\Tasks\\MigrationTaskTrait',
        'ModalController' => 'SilverStripe\\Admin\\ModalController',
        'ModelAdmin' => 'SilverStripe\\Admin\\ModelAdmin',
        'ModuleManifest' => 'SilverStripe\\Core\\Manifest\\ModuleManifest',
        'MoneyField' => 'SilverStripe\\Forms\\MoneyField',
        'NotifyUsersWorkflowAction' => 'Symbiote\\AdvancedWorkflow\\Actions\\NotifyUsersWorkflowAction',
        'NumericField' => 'SilverStripe\\Forms\\NumericField',
        'PermissionChecker' => 'SilverStripe\\Security\\PermissionChecker',
        'PjaxResponseNegotiator' => 'SilverStripe\\Control\\PjaxResponseNegotiator',
        'PolymorphicHasManyList' => 'SilverStripe\\ORM\\PolymorphicHasManyList',
        'ProcessJobQueueTask' => 'Symbiote\\QueuedJobs\\Tasks\\ProcessJobQueueTask',
        'QueuedJobDescriptorExtension' => 'Symbiote\\QueuedJobs\\Extensions\\QueuedJobDescriptorExtension',
        'QueuedJobService' => 'Symbiote\\QueuedJobs\\Services\\QueuedJobService',
        'QueryRecorderExtension' => 'SilverStripe\\Dev\\QueryRecorderExtension',
        'RealMeService' => 'SilverStripe\\RealMe\\RealMeService',
        'RememberLoginHash' => 'SilverStripe\\Security\\RememberLoginHash',
        'RememberLoginHashExtension' => 'SilverStripe\\SessionManager\\Extensions\\RememberLoginHashExtension',
        'RecursivePublishable' => 'SilverStripe\\Versioned\\RecursivePublishable',
        'RecursivePublishableHandler' => 'SilverStripe\\Versioned\\RecursivePublishableHandler',
        'Relation' => 'SilverStripe\\ORM\\Relation',
        'RemoteFileModalExtension' => 'SilverStripe\\AssetAdmin\\Extensions\\RemoteFileModalExtension',
        'ReorderElements' => 'DNADesign\\Elemental\\Extensions\\ReorderElements',
        'RequirementsExtension' => 'SilverStripe\\MFA\\Extension\\RequirementsExtension',
        'SearchContext' => 'SilverStripe\\ORM\\Search\\SearchContext',
        'SearchableDropdownTrait' => 'SilverStripe\\Forms\\SearchableDropdownTrait',
        'SelectionGroup_Item' => 'SilverStripe\\Forms\\SelectionGroup_Item',
        'Session' => 'SilverStripe\\Control\\Session',
        'SessionEnvTypeSwitcher' => 'SilverStripe\\Control\\Middleware\\URLSpecialsMiddleware\\SessionEnvTypeSwitcher',
        'ShareDraftContentFileShortcodeProviderExtension' => 'SilverStripe\\ShareDraftContent\\Extensions\\ShareDraftContentFileShortcodeProviderExtension',
        'SideReportView' => 'SilverStripe\\Admin\\SideReportView',
        'SiteConfig' => 'SilverStripe\\SiteConfig\\SiteConfig',
        'SiteConfigLeftAndMain' => 'SilverStripe\\SiteConfig\\SiteConfigLeftAndMain',
        'SiteConfigSubsites' => 'SilverStripe\\Subsites\\Extensions\\SiteConfigSubsites',
        'SiteTree' => 'SilverStripe\\CMS\\Model\\SiteTree',
        'SiteTreeExtension' => 'SilverStripe\\CMS\\Model\\SiteTreeExtension',
        'SiteTreeLinkTracking' => 'SilverStripe\\CMS\\Model\\SiteTreeLinkTracking',
        'SiteTreePublishingEngine' => 'SilverStripe\\StaticPublishQueue\\Extension\\Engine\\SiteTreePublishingEngine',
        'SiteTreeSubsites' => 'SilverStripe\\Subsites\\Extensions\\SiteTreeSubsites',
        'SSListContains' => 'SilverStripe\\ORM\\SSListContains',
        'SSViewer' => 'SilverStripe\\View\\SSViewer',
        'Subsite' => 'SilverStripe\\Subsites\\Model\\Subsite',
        'SubsiteXHRController' => 'SilverStripe\\Subsites\\Controller\\SubsiteXHRController',
        'TaskRunner' => 'SilverStripe\\Dev\\TaskRunner',
        'TempDatabase' => 'SilverStripe\\Dev\\State\\TempDatabase',
        'TestMailer' => 'SilverStripe\\Dev\\TestMailer',
        'TestSessionEnvironmentExtension' => 'SilverStripe\\Core\\Extensions\\TestSessionEnvironmentExtension',
        'TextareaField' => 'SilverStripe\\Forms\\TextareaField',
        'ThemeManifest' => 'SilverStripe\\View\\Theme\\ThemeManifest',
        'ThemeResourceLoader' => 'SilverStripe\\View\\ThemeResourceLoader',
        'ThemeResolver' => 'SilverStripe\\View\\Theme\\ThemeResolver',
        'ThumbnailGenerator' => 'SilverStripe\\Assets\\ThumbnailGenerator',
        'TimeField' => 'SilverStripe\\Forms\\TimeField',
        'UsesDeletePolicy' => 'SilverStripe\\Assets\\Storage\\UsesDeletePolicy',
        'UsedOnTableExtension' => 'SilverStripe\\Admin\\Extensions\\UsedOnTableExtension',
        'UserDefinedFormController' => 'SilverStripe\\UserForms\\Control\\UserDefinedFormController',
        'UserForm' => 'SilverStripe\\UserForms\\UserForm',
        'UserFormFieldEditorExtension' => 'SilverStripe\\UserForms\\Extension\\UserFormFieldEditorExtension',
        'UserFormFileExtension' => 'SilverStripe\\UserForms\\Extension\\UserFormFileExtension',
        'VerifyHandler' => 'SilverStripe\\MFA\\Authenticator\\VerifyHandler',
        'VersionProvider' => 'SilverStripe\\Core\\Manifest\\VersionProvider',
        'Versioned' => 'SilverStripe\\Versioned\\Versioned',
        'VersionedGridFieldArchiveExtension' => 'SilverStripe\\Versioned\\VersionedGridFieldArchiveExtension',
        'VersionedGridFieldDetailForm' => 'SilverStripe\\Versioned\\VersionedGridFieldDetailForm',
        'VersionedGridFieldItemRequest' => 'SilverStripe\\Versioned\\VersionedGridFieldItemRequest',
        'VersionedStateExtension' => 'SilverStripe\\Versioned\\VersionedStateExtension',
        'VersionedTableDataQueryExtension' => 'SilverStripe\\Versioned\\VersionedTableDataQueryExtension',
        'VersionedTestSessionExtension' => 'SilverStripe\\Versioned\\VersionedTestSessionExtension',
        'VirtualPage' => 'SilverStripe\\CMS\\Model\\VirtualPage',
        'WithinRangeFilter' => 'SilverStripe\\ORM\\Filters\\WithinRangeFilter',
        'WorkflowApplicable' => 'Symbiote\\AdvancedWorkflow\\Extensions\\WorkflowApplicable',
        'WorkflowEmbargoExpiryExtension' => 'Symbiote\\AdvancedWorkflow\\Extensions\\WorkflowEmbargoExpiryExtension',
        'WorkflowInstance' => 'Symbiote\\AdvancedWorkflow\\DataObjects\\WorkflowInstance',
        'WorkflowTemplate' => 'Symbiote\\AdvancedWorkflow\\DataObjects\\WorkflowTemplate',
    ];

    private const METHODS_AND_UNIQUENESS = [
        'ATT' => false,
        'AbsoluteLink' => true,
        'AbsoluteLinks' => true,
        'AddToCampaignForm' => true,
        'CDATA' => false,
        'CMSEditLink' => true,
        'CMSTreeClasses' => true,
        'CanOrganiseSitetree' => true,
        'ContextSummary' => true,
        'Date' => false,
        'DayOfMonth' => false,
        'DayOfWeek' => false,
        'EditorEmailLink' => true,
        'EditorExternalLink' => true,
        'ExtraTreeTools' => true,
        'FirstParagraph' => true,
        'FirstSentence' => true,
        'Format' => false,
        'FormatFromSettings' => true,
        'Formatted' => false,
        'Full' => false,
        'HTML' => false,
        'HTMLATT' => false,
        'HiddenFields' => true,
        'Initial' => false,
        'Int' => false,
        'JS' => false,
        'JSON' => false,
        'LimitCharacters' => true,
        'LimitCharactersToClosestWord' => true,
        'LimitSentences' => true,
        'LimitWordCount' => true,
        'Link' => false,
        'LinkPageAdd' => true,
        'LinkPageEdit' => true,
        'LinkPageHistory' => true,
        'LinkPageSettings' => true,
        'LinkPages' => true,
        'LinkPagesWithSearch' => true,
        'ListSubsites' => true,
        'Long' => false,
        'LowerCase' => false,
        'Menu' => false,
        'MetaTags' => true,
        'Modals' => true,
        'Month' => false,
        'Nice' => false,
        'NiceAsBoolean' => true,
        'NiceRound' => true,
        'PageList' => true,
        'PageListSidebar' => true,
        'PageTypes' => true,
        'Plain' => false,
        'RAW' => false,
        'RAWURLATT' => false,
        'RFC1766' => true,
        'RTF' => false,
        'Round' => false,
        'Short' => false,
        'ShortMonth' => false,
        'SiteTreeAsUL' => true,
        'SiteTreeHints' => true,
        'SubsiteList' => true,
        'Summary' => false,
        'Time' => false,
        'Time12' => true,
        'Time24' => true,
        'Times' => false,
        'Top' => false,
        'TreeIsFiltered' => true,
        'URL' => false,
        'URLATT' => false,
        'URLDatetime' => true,
        'UpperCase' => false,
        'Value' => false,
        'ValueEntities' => true,
        'Versions' => true,
        'VisibleFields' => true,
        'Whole' => false,
        'XML' => false,
        'Year' => false,

        '__clone' => false,
        '__construct' => false,
        '__get' => false,

        'absoluteBaseURLWithAuth' => true,
        'addFieldToTab' => false,
        'addFieldsToTab' => false,
        'addToCampaignForm' => true,
        'addToQuery' => false,
        'addValidElements' => true,
        'add_rule_for_controller' => true,
        'add_themes' => true,
        'addtocampaign' => true,
        'admin_url' => true,
        'afterCallActionHandler' => true,
        'afterMemberLoggedIn' => true,
        'afterMemberLoggedOut' => true,
        'allowedChildren' => false,
        'alternateAccessCheck' => true,
        'alternateSiteConfig' => true,
        'apiCreateFile' => true,
        'apiHistory' => true,
        'apiSaveForm' => true,
        'apiUploadFile' => true,
        'apply' => false,
        'applyDefaultFilters' => true,
        'assertFilenameValid' => true,
        'attributeMatchesRule' => true,
        'augmentDataQueryCreation' => true,
        'augmentLoadLazyFields' => true,
        'augmentSyncLinkTracking' => true,
        'augmentValidURLSegment' => true,
        'authenticate' => false,
        'authenticateMember' => true,
        'batchPermissionCheck' => true,
        'batchPermissionCheckForStage' => true,
        'beforeCallActionHandler' => true,
        'beforeMemberLoggedOut' => true,
        'beginWorkflow' => true,
        'bindTo' => false,
        'buildCurrencyField' => true,
        'buildDefaults' => true,
        'build_sql' => true,
        'cacheKeyComponent' => true,
        'canAccess' => false,
        'canAddChildren' => true,
        'canArchive' => true,
        'canCreate' => false,
        'canDelete' => false,
        'canDeleteMultiple' => true,
        'canEdit' => false,
        'canEditMultiple' => true,
        'canPublish' => true,
        'canView' => false,
        'canViewMultiple' => true,
        'cast' => false,
        'castingHelper' => true,
        'changeFieldOrder' => true,
        'checkDefaultPermissions' => true,
        'checkIfItemEvaluatesRemainingMatches' => true,
        'checkLogin' => true,
        'checkPassword' => false,
        'chooseTemplate' => true,
        'classDescription' => true,
        'clear_mock_now' => true,
        'collectFromEntityProviders' => true,
        'columnUnique' => true,
        'compareForm' => true,
        'compositeDatabaseFields' => true,
        'conjunctiveGroup' => true,
        'connect' => false,
        'copy' => false,
        'creatableChildPages' => true,
        'create' => false,
        'createAction' => true,
        'createCloneWithResource' => true,
        'createImageTag' => true,
        'create_debug_view' => true,
        'create_field' => true,
        'crop' => false,
        'croppedResize' => true,
        'curr' => false,
        'currentPage' => false,
        'currentPageID' => true,
        'currentRequest' => true,
        'current_site_config' => true,
        'dataFieldByName' => false,
        'dataFieldNames' => true,
        'dataFields' => false,
        'dbObject' => false,
        'debug' => false,
        'defaultChild' => false,
        'defaultParent' => false,
        'defaultSearchFilter' => true,
        'defaultSearchFilters' => true,
        'deleteinstallfiles' => true,
        'destroy' => false,
        'disable_subclass_access' => true,
        'disjunctiveGroup' => true,
        'dontRewriteHashlinks' => true,
        'down' => false,
        'dump' => false,
        'duplicateWithChildren' => true,
        'elementForm' => true,
        'elementMatchesRule' => true,
        'enable_subclass_access' => true,
        'endshow' => true,
        'enumValues' => true,
        'excludeAny' => true,
        'execute_string' => true,
        'execute_template' => true,
        'exists' => false,
        'extendCanArchive' => true,
        'extendValidationResult' => true,
        'fieldByName' => false,
        'fieldNameError' => true,
        'fieldPosition' => true,
        'findOrMakeTab' => true,
        'findTab' => false,
        'findTemplate' => true,
        'firstResult' => false,
        'flattenFields' => true,
        'flushCache' => false,
        'flushFieldsCache' => true,
        'flush_cacheblock_cache' => true,
        'flush_template_cache' => true,
        'forTemplate' => false,
        'forceExpiry' => true,
        'forceSSL' => true,
        'forceWWW' => true,
        'force_expiry' => true,
        'formAction' => false,
        'formField' => false,
        'fromString' => false,
        'generateChildrenCacheKey' => true,
        'generateLink' => true,
        'generatesecuretoken' => true,
        'get' => false,
        'getAddToCampaignForm' => true,
        'getAll' => false,
        'getAllowedCategories' => true,
        'getAllowedChildren' => true,
        'getAllowedExtensions' => true,
        'getAmount' => false,
        'getArchiveWarningMessage' => true,
        'getAssetContainer' => true,
        'getAttributes' => false,
        'getAuth' => true,
        'getAutoIncrement' => true,
        'getBaseClass' => true,
        'getBasename' => false,
        'getCMSEditLinkForManagedDataObject' => true,
        'getCMSTreeTitle' => true,
        'getCMSValidator' => true,
        'getCache' => false,
        'getClassValue' => true,
        'getClientConfig' => true,
        'getComposerLock' => true,
        'getComposerLockPath' => true,
        'getConfig' => false,
        'getConfigSchemaData' => true,
        'getConfirmPasswordField' => true,
        'getContainerField' => true,
        'getContent' => false,
        'getController' => false,
        'getCreatableChildrenCache' => true,
        'getCredentialRepository' => true,
        'getCredentialRequestOptions' => true,
        'getCurrency' => false,
        'getCustomFormatter' => true,
        'getData' => false,
        'getDataQueryLocale' => true,
        'getDefault' => false,
        'getDefaultValue' => false,
        'getDescription' => false,
        'getDeviceCookieName' => true,
        'getDimensionCacheKey' => true,
        'getDimensions' => true,
        'getElementForm' => true,
        'getEnum' => true,
        'getEnumObsolete' => true,
        'getErrorCacheKey' => true,
        'getErrorRecordFor' => true,
        'getExtension' => false,
        'getField' => false,
        'getFilteredPages' => true,
        'getFolderPermissionString' => true,
        'getForm' => false,
        'getFormActions' => true,
        'getFormFields' => true,
        'getFormSchema' => true,
        'getFormatter' => true,
        'getFrontendTemplate' => true,
        'getGraphQLTypeName' => true,
        'getHTMLTemplate' => true,
        'getHeight' => false,
        'getHintsCache' => true,
        'getIDValue' => true,
        'getISOFormat' => true,
        'getIconClass' => true,
        'getImageManager' => true,
        'getImageResource' => true,
        'getIsMerge' => true,
        'getJoinTable' => true,
        'getLinks' => false,
        'getList' => false,
        'getLocale' => false,
        'getLongName' => true,
        'getMaxLength' => false,
        'getMemberFields' => true,
        'getMembersByPermission' => true,
        'getMinLength' => false,
        'getModelClass' => true,
        'getMultipartSchema' => true,
        'getName' => false,
        'getNativeName' => true,
        'getNullifyEmpty' => true,
        'getOption' => false,
        'getOptions' => false,
        'getOrValidateRequest' => true,
        'getPageIconURL' => true,
        'getPageTypes' => true,
        'getParser' => false,
        'getPartialCacheStore' => true,
        'getPasswordField' => true,
        'getPermissionChecker' => true,
        'getProcessShortcodes' => true,
        'getQuality' => true,
        'getQuery' => false,
        'getQueryFilter' => true,
        'getQueue' => false,
        'getRecord' => false,
        'getRecordFromRequest' => true,
        'getRecordStatus' => true,
        'getRecordVersion' => true,
        'getRegisteredController' => true,
        'getRemindDays' => true,
        'getRequest' => false,
        'getRequireExistingPassword' => true,
        'getRequireStrongPassword' => true,
        'getRequiredPermissions' => true,
        'getResource' => false,
        'getResourceDimensions' => true,
        'getRewriteHashLinks' => true,
        'getRewriteHashLinksDefault' => true,
        'getRuleForAttribute' => true,
        'getRuleForElement' => true,
        'getSchemaRequested' => true,
        'getSchemaResponse' => true,
        'getSchemaValue' => true,
        'getSearchContext' => true,
        'getSearchFieldSchema' => true,
        'getSearchFilter' => true,
        'getSearchForm' => true,
        'getSearchFormSchema' => true,
        'getShortName' => true,
        'getSiteTreeFor' => true,
        'getSize' => false,
        'getSort' => false,
        'getSourceURL' => true,
        'getStatusFlags' => true,
        'getStore' => false,
        'getSubtemplateFor' => true,
        'getSymbol' => true,
        'getTable' => false,
        'getTag' => false,
        'getTaskList' => true,
        'getTasks' => false,
        'getTempPath' => true,
        'getTemplateFileByType' => true,
        'getTemplatesWithSuffix' => true,
        'getThemeList' => true,
        'getThemes' => false,
        'getThrowExceptionOnBadDataType' => true,
        'getThumbnailGenerator' => true,
        'getTimestamp' => true,
        'getTitle' => false,
        'getToDelete' => true,
        'getToUpdate' => true,
        'getTokenCookieName' => true,
        'getTokenCookieSecure' => true,
        'getTreeNodeClasses' => true,
        'getTreeTitle' => true,
        'getValidator' => false,
        'getValue' => false,
        'getValueFromRelation' => true,
        'getVersion' => true,
        'getViewerTemplates' => true,
        'getWhitelist' => true,
        'getWidth' => false,

        'get_active' => true,
        'get_active_identifier' => true,
        'get_admin_route' => true,
        'get_all' => true,
        'get_all_filters' => true,
        'get_available_configs_map' => true,
        'get_base_tag' => true,
        'get_by_stage' => true,
        'get_conn' => true,
        'get_connector' => true,
        'get_from_all_subsites' => true,
        'get_including_deleted' => true,
        'get_inst' => true,
        'get_links' => true,
        'get_schema' => true,
        'get_templates_by_class' => true,
        'get_themes' => true,

        'handleAccountReset' => true,
        'handleError' => false,
        'handleNestedItem' => true,
        'hasAmount' => true,
        'hasBasicAuthPrompt' => true,
        'hasFailed' => true,
        'hasField' => false,
        'hasTabSet' => true,
        'hasTemplate' => false,
        'has_curr' => true,
        'host' => false,
        'hostName' => false,
        'i18n_classDescription' => true,
        'includeGeneratedTemplate' => true,
        'includeRequirements' => true,
        'index' => false,
        'init' => false,
        'insertAfter' => false,
        'insertBefore' => false,
        'internalToFrontend' => true,
        'isAPCUSupported' => true,
        'isCMSPreview' => true,
        'isChanged' => false,
        'isCurrentPage' => true,
        'isEnabled' => false,
        'isPHPFilesSupported' => true,
        'isStreamReadable' => true,
        'isValidFilename' => true,
        'is_ajax' => true,
        'is_https' => true,
        'join_links' => true,
        'jsonError' => true,
        'jsonSuccess' => true,
        'linkIfMatch' => true,
        'listPermissionCheck' => true,
        'loadDataFrom' => true,
        'loadFrom' => false,
        'loadFromContainer' => true,
        'logIn' => false,
        'logOut' => false,
        'makeFieldReadonly' => true,
        'makeReadonly' => false,
        'mapIDs' => true,
        'markFailed' => true,
        'markSuccess' => true,
        'message' => false,
        'methodSchema' => true,
        'namespaceFields' => true,
        'now' => false,
        'nullValue' => true,

        'onAfterBuild' => true,
        'onAfterDuplicate' => true,
        'onAfterGenerateToken' => true,
        'onAfterPublish' => true,
        'onAfterPublishRecursive' => true,
        'onAfterRenewToken' => true,
        'onAfterRevertToLive' => true,
        'onAfterSave' => true,
        'onAfterSkippedWrite' => true,
        'onAfterStartTestSession' => true,
        'onAfterUnpublish' => true,
        'onAfterUpload' => true,
        'onAfterWrite' => true,
        'onBeforeDuplicate' => true,
        'onBeforeHTTPError' => true,
        'onBeforeInit' => true,
        'onBeforePublish' => true,
        'onBeforePublishRecursive' => true,
        'onBeforeWrite' => true,
        'onPrepopulateTreeDataCache' => true,

        'outputCookie' => true,
        'paddedResize' => true,
        'page_type_classes' => true,
        'pagesIncluded' => true,
        'parseDate' => false,
        'parseTemplateContent' => true,
        'parseTime' => false,
        'password_validator' => true,
        'patternToRegex' => true,
        'performPublish' => true,
        'populateIDs' => true,
        'port' => false,
        'preWrite' => true,
        'prepValueForDB' => true,
        'process' => false,
        'protect_site_if_necessary' => true,
        'protocol' => false,
        'protocolAndHost' => true,
        'recursiveWalk' => true,
        'redirectToInstaller' => true,
        'removeByName' => false,
        'removeFieldFromTab' => true,
        'removeFieldsFromTab' => true,
        'removeNamespacesFromFields' => true,
        'renameField' => false,
        'render' => false,
        'renew' => false,
        'replaceField' => false,
        'requestContainsSessionId' => true,
        'requireField' => false,
        'require_developer_login' => true,
        'resize' => false,
        'resizeByHeight' => true,
        'resizeByWidth' => true,
        'resizeRatio' => true,
        'rootFieldList' => true,
        'rules' => false,
        'run' => false,
        'runRegisteredController' => true,
        'saveInto' => false,
        'save_siteconfig' => true,
        'saveableFields' => true,
        'scaffoldFormField' => true,
        'scaffoldSearchField' => true,
        'scalarValueOnly' => true,
        'send' => false,
        'sessionError' => true,
        'sessionFieldError' => true,
        'sessionMessage' => true,
        'set' => false,
        'setAllowedCategories' => true,
        'setAmount' => false,
        'setArrayValue' => true,
        'setAssetContainer' => true,
        'setAutoIncrement' => true,
        'setBaseClass' => true,
        'setBody' => false,
        'setCache' => false,
        'setClassValue' => true,
        'setConfig' => false,
        'setContainerField' => true,
        'setController' => false,
        'setCreatableChildrenCache' => true,
        'setCurrency' => false,
        'setCurrentPageID' => true,
        'setData' => false,
        'setDefault' => false,
        'setDefaultValue' => false,
        'setDeviceCookieName' => true,
        'setEnum' => true,
        'setFileParser' => true,
        'setForeignRelation' => true,
        'setForm' => false,
        'setFormSchema' => true,
        'setHintsCache' => true,
        'setIDValue' => true,
        'setImageManager' => true,
        'setImageResource' => true,
        'setLocalValue' => true,
        'setLocale' => false,
        'setMax' => false,
        'setMaxLength' => false,
        'setMin' => false,
        'setMinLength' => false,
        'setName' => false,
        'setNullifyEmpty' => true,
        'setOption' => false,
        'setOptions' => false,
        'setOriginal' => true,
        'setParser' => false,
        'setPartialCacheStore' => true,
        'setProcessShortcodes' => true,
        'setQuality' => true,
        'setRequireExistingPassword' => true,
        'setRequireStrongPassword' => true,
        'setRewriteHashLinks' => true,
        'setRewriteHashLinksDefault' => true,
        'setRunAsUser' => true,
        'setSessionToken' => true,
        'setTable' => false,
        'setTempPath' => true,
        'setTemplate' => false,
        'setTemplateFile' => true,
        'setThemes' => false,
        'setThrowExceptionOnBadDataType' => true,
        'setThumbnailGenerator' => true,
        'setToDelete' => true,
        'setToUpdate' => true,
        'setTokenCookieName' => true,
        'setTokenCookieSecure' => true,
        'setValidator' => false,
        'setValue' => false,
        'setValues' => false,
        'setWhitelist' => true,

        'set_active' => true,
        'set_active_identifier' => true,
        'set_config' => true,
        'set_conn' => true,
        'set_mock_now' => true,
        'set_password_validator' => true,
        'set_themes' => true,

        'show' => false,
        'successfullyinstalled' => true,
        'supportsHTML' => true,
        'templates' => false,
        'text' => false,
        'throwRedirectIfNeeded' => true,
        'tidyInternal' => true,
        'title' => false,
        'toggleNestedItem' => true,
        'topLevel' => true,
        'transform' => false,
        'unsetRunAsUser' => true,
        'up' => false,

        'updateAnchorsOnPage' => true,
        'updateBadge' => true,
        'updateBatchActionsForm' => true,
        'updateBreadcrumbs' => true,
        'updateCMSEditLink' => true,
        'updateCMSFields' => true,
        'updateChangeType' => true,
        'updateClientConfig' => true,
        'updateConfig' => false,
        'updateDeleteTables' => true,
        'updateEditForm' => true,
        'updateErrorFilename' => true,
        'updateFormActions' => true,
        'updateFormFields' => true,
        'updateFromFormData' => true,
        'updateGetURL' => true,
        'updateGetVersionNumberByStage' => true,
        'updateGrant' => true,
        'updateGroups' => true,
        'updateHintsCacheKey' => true,
        'updateInheritableQueryParams' => true,
        'updateIsArchived' => true,
        'updateItemEditForm' => true,
        'updateItemRequestClass' => true,
        'updateJoinTableName' => true,
        'updateLink' => true,
        'updateList' => false,
        'updateLocalisationTabColumns' => true,
        'updateLocalisationTabConfig' => true,
        'updatePageOptions' => true,
        'updatePostURL' => true,
        'updatePrePopulateVersionNumberCache' => true,
        'updatePreviewLink' => true,
        'updatePrintData' => true,
        'updateRelativeLink' => true,
        'updateRules' => true,
        'updateSettingsFields' => true,
        'updateStagesDiffer' => true,
        'updateStatusFlags' => true,
        'updateTrackedFormUpload' => true,
        'updateTreeTitle' => true,
        'updateUsageAncestorDataObjects' => true,
        'updateUsageDataObject' => true,
        'updateUsageExcludedClasses' => true,

        'urlRewriter' => true,
        'validate' => false,
        'validateCanLogin' => true,
        'validateFilename' => true,
        'validateWrite' => true,
        'validationResult' => true,
        'versionForm' => true,
        'warmCache' => true,
        'whitelistContent' => true,
        'withFixedNow' => true,
        'withNoReplacement' => true,
        'writeTo' => false,
        'writeToManipulation' => true,
        'writeToStore' => true,


    ];
}
